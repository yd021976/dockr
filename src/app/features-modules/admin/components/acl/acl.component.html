<!-- <div fxLayout="column" class="container">
  <div fxFlex class="header_container">
    <div fxLayout="row" class="header">
      <div fxFlex class="header_col">col1</div>
      <div fxFlex class="header_col">col2</div>
      <div fxFlex class="header_col">col3</div>
      <div fxFlex class="header_col">col4</div>
      <div fxFlex class="header_col">col5</div>
    </div>
  </div>
  <div fxFlex class="tree_container">
    <div fxLayout="row" class="tree_level">
      <div fxFlex class="tree_node">node level 0</div>
      <div fxFlex></div>
      <div fxFlex></div>
      <div fxFlex></div>
      <div fxFlex></div>
    </div>
    <div fxLayout="row" class="tree_level">
      <div fxFlex></div>
      <div fxFlex class="tree_node">node level 1</div>
      <div fxFlex></div>
      <div fxFlex></div>
      <div fxFlex></div>
    </div>
    <div fxLayout="row" class="tree_level">
      <div fxFlex></div>
      <div fxFlex></div>
      <div fxFlex class="tree_node">node level 2</div>
      <div fxFlex></div>
      <div fxFlex></div>
    </div>
  </div>
</div> -->


<div class="container">
  <div fxLayout="column" fxFlexFill>
    <div fxFlex="32px" class="table_header_container">
      <div fxLayout="row" fxLayoutAlign="start center" fxFlexFill>
        <div class="mat-header-cell column column_header" fxFlex fxFlexFill>
          <div fxFlex fxFlexAlign="center">Services</div>
        </div>
        <div class="mat-header-cell column column_header" fxFlex fxFlexFill>
          <div fxFlex fxFlexAlign="center">Roles</div>
        </div>
        <div class="mat-header-cell column column_header" fxFlex fxFlexFill>
          <div fxFlex fxFlexAlign="center">Actions</div>
        </div>
        <div class="mat-header-cell column column_header" fxFlex fxFlexFill>
          <div fxFlex fxFlexAlign="center">Fields</div>
        </div>
        <div class="mat-header-cell column column_header" fxFlex fxFlexFill>
          <div fxFlex fxFlexAlign="center">...</div>
        </div>
      </div>
    </div>

    <div fxFlex fxFlexFill class="tree_container">
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle fxLayoutAlign="row" class="mat-header-cell">
          <div fxFlex fxFlexFill *ngFor="let i of array(treeControl.getLevel(node))" class="column">
            <div fxFlex fxFlexAlign="center"></div>
          </div>
          <!-- <button mat-icon-button disabled></button> -->
          <div fxFlex fxFlexFill class="column">
            <div fxFlex fxFlexAlign="center" class="mat-header-cell">{{node.filename}} : {{node.type}}</div>
          </div>
          <div fxFlex fxFlexFill *ngFor="let i of remainingCols(node)" class="column">
            <div fxFlex FxFlexAlign="center"></div>
          </div>
        </mat-tree-node>

        <mat-tree-node *matTreeNodeDef="let node;when: hasChild" fxLayout="row" class="mat-header-cell">
          <!-- <div fxLayout="row" fxFlexFill class="mat-header-cell column"> -->
          <div fxFlex fxFlexFill *ngFor="let i of array(treeControl.getLevel(node))" class="column">
            <div fxFlex FxFlexAlign="center"></div>
          </div>
          <div fxFlex fxFlexFill class="column">
            <div fxFlex fxFlexAlign="center">
              <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.filename">
                <mat-icon class="fa-xs mat-icon-rtl-mirror" [fontIcon]="treeControl.isExpanded(node) ? 'fa-minus-circle' : 'fa-plus-circle'"></mat-icon>
              </button>
              {{node.filename}}
            </div>
          </div>
          <div fxFlex fxFlexFill *ngFor="let i of remainingCols(node)" class="column">
            <div fxFlex fxFlexAlign="center"></div>
          </div>
          <!-- </div> -->
        </mat-tree-node>
      </mat-tree>
    </div>

  </div>
</div>